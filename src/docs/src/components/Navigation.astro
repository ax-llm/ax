---
const sections = [
  {
    name: 'guides',
    slug: '/#guides',
  },
  {
    name: 'apidocs',
    slug: '/api',
  },
]
---

<nav
  style="background: #ffffff; border-bottom: 1px solid #f1f3f4; position: sticky; top: 0; z-index: 100; backdrop-filter: blur(8px); background: rgba(255, 255, 255, 0.95);"
>
  <div style="max-width: 1200px; margin: 0 auto; padding: 0 24px;">
    <div
      style="display: flex; align-items: center; justify-content: space-between; height: 72px;"
    >
      <!-- Left Section: Logo -->
      <div style="display: flex; align-items: center; gap: 32px;">
        <div
          style="display: flex; align-items: center; gap: 8px; cursor: pointer;"
          id="logo-area"
        >
          <div
            style="font-size: 24px; font-weight: 700; color: #000000; letter-spacing: -0.02em;"
          >
            ax.
          </div>
        </div>

        <!-- Navigation Links - Desktop -->
        <div
          style="display: flex; align-items: center; gap: 32px;"
          class="desktop-nav"
        >
          {
            sections.map((section) => (
              <a
                href={section.slug}
                style="font-size: 15px; color: #4a4a4a; text-decoration: none; font-weight: 500; padding: 8px 0; transition: color 0.2s ease;"
                onmouseover="this.style.color='#000000';"
                onmouseout="this.style.color='#4a4a4a';"
              >
                {section.name}
              </a>
            ))
          }
        </div>
      </div>

      <!-- Right Section: GitHub -->
      <div style="display: flex; align-items: center; gap: 16px;">
        <a
          href="https://github.com/ax-llm/ax"
          target="_blank"
          rel="noopener noreferrer"
          style="display: flex; align-items: center; gap: 8px; padding: 10px 20px; background: #000000; color: #ffffff; text-decoration: none; font-size: 14px; font-weight: 500; border-radius: 8px; transition: all 0.2s ease;"
          onmouseover="this.style.background='#333333';"
          onmouseout="this.style.background='#000000';"
          class="desktop-github"
        >
          <span>GitHub</span>
        </a>

        <!-- Mobile Menu Button -->
        <button
          id="mobile-menu-btn"
          style="display: none; flex-direction: column; gap: 4px; background: none; border: none; cursor: pointer; padding: 8px;"
          class="mobile-menu-btn"
        >
          <div
            style="width: 20px; height: 2px; background: #000000; transition: all 0.3s ease;"
            class="line1"
          >
          </div>
          <div
            style="width: 20px; height: 2px; background: #000000; transition: all 0.3s ease;"
            class="line2"
          >
          </div>
          <div
            style="width: 20px; height: 2px; background: #000000; transition: all 0.3s ease;"
            class="line3"
          >
          </div>
        </button>
      </div>
    </div>

    <!-- Mobile Navigation Menu -->
    <div
      id="mobile-menu"
      style="display: none; flex-direction: column; gap: 0; padding: 16px 0; border-top: 1px solid #f1f3f4; background: #ffffff;"
      class="mobile-menu"
    >
      {
        sections.map((section) => (
          <a
            href={section.slug}
            style="font-size: 16px; color: #4a4a4a; text-decoration: none; font-weight: 500; padding: 16px 0; border-bottom: 1px solid #f8f9fa;"
          >
            {section.name}
          </a>
        ))
      }
      <a
        href="https://github.com/ax-llm/ax"
        target="_blank"
        rel="noopener noreferrer"
        style="font-size: 16px; color: #4a4a4a; text-decoration: none; font-weight: 500; padding: 16px 0;"
      >
        GitHub
      </a>
    </div>
  </div>
</nav>

<style>
  @media (max-width: 768px) {
    .desktop-nav,
    .desktop-github {
      display: none !important;
    }

    .mobile-menu-btn {
      display: flex !important;
    }

    nav div:first-child {
      padding: 0 16px !important;
    }
  }

  @media (min-width: 769px) {
    .mobile-menu {
      display: none !important;
    }
  }

  /* Mobile menu animation */
  .mobile-menu-open .line1 {
    transform: rotate(-45deg) translate(-5px, 6px);
  }

  .mobile-menu-open .line2 {
    opacity: 0;
  }

  .mobile-menu-open .line3 {
    transform: rotate(45deg) translate(-5px, -6px);
  }
</style>

<script>
  // Logo click to scroll to top
  const logoArea = document.getElementById('logo-area')
  if (logoArea) {
    logoArea.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth',
      })
    })
  }

  // Mobile menu toggle
  const mobileMenuBtn = document.getElementById('mobile-menu-btn')
  const mobileMenu = document.getElementById('mobile-menu')

  if (mobileMenuBtn && mobileMenu) {
    mobileMenuBtn.addEventListener('click', () => {
      const isOpen = mobileMenu.style.display === 'flex'

      if (isOpen) {
        mobileMenu.style.display = 'none'
        mobileMenuBtn.classList.remove('mobile-menu-open')
      } else {
        mobileMenu.style.display = 'flex'
        mobileMenuBtn.classList.add('mobile-menu-open')
      }
    })
  }
</script>
